<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gretel — 쇼핑몰 메인</title>
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Custom Styles -->
  <link rel="stylesheet" href="../static/css/index.css">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>
<body class="bg-white">
  <!-- Header -->
  <header class="border-b border-gray-200 sticky top-0 bg-white z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <!-- Logo -->
        <a href="/" class="text-[28px] font-semibold tracking-tight text-gray-900">
          Gretel
        </a>

        <!-- Search Bar - Desktop -->
        <div class="hidden md:flex flex-1 max-w-xl mx-8">
          <div class="relative w-full">
            <svg class="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
            <input
              type="search"
              placeholder="검색어를 입력하세요 — 예: 코튼 자켓, 슬리퍼"
              class="w-full pl-10 pr-4 py-2 bg-gray-100 border-0 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-300"
            />
          </div>
        </div>

        <!-- Navigation -->
        <nav class="flex items-center gap-2 sm:gap-6">
          <a href="#categories" class="hidden sm:inline-block text-gray-900 hover:text-gray-600 transition-colors">
            카테고리
          </a>
          <a href="/cart" class="text-gray-900 hover:text-gray-600 transition-colors">
            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
            </svg>
          </a>
          <a href="/mypage" class="text-gray-900 hover:text-gray-600 transition-colors">
            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
            </svg>
          </a>
          {% if request.session.get("user_id") %}
          <a href="/logout" class="hidden sm:inline-block text-gray-900 hover:text-gray-600 transition-colors">
            로그아웃
          </a>
          {% else %}
          <a href="/login" class="hidden sm:inline-block text-gray-900 hover:text-gray-600 transition-colors">
            로그인/회원가입
          </a>
          {% endif %}
        </nav>
      </div>

      <!-- Mobile Search -->
      <div class="md:hidden pb-3">
        <div class="relative w-full">
          <svg class="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
          </svg>
          <input
            type="search"
            placeholder="검색어를 입력하세요"
            class="w-full pl-10 pr-4 py-2 bg-gray-100 border-0 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-300"
          />
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <!-- Hero Section -->
    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12">
      <div class="grid md:grid-cols-2 gap-8 items-center bg-gray-100 rounded-2xl overflow-hidden">
        <div class="p-8 sm:p-12">
          <h1 class="text-3xl sm:text-4xl font-semibold mb-4">이번 시즌의 필수 아이템</h1>
          <p class="text-gray-600 mb-6 text-base">
            가볍고 편안한 데일리웨어부터 포인트 액세서리까지 — 지금 바로 둘러보세요.
          </p>
          <a href="#products">
            <button class="bg-gray-900 text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors mb-4 font-medium">
              지금 쇼핑하기
            </button>
          </a>
          <div class="flex items-center gap-3 flex-wrap">
            <span class="bg-gray-900 text-white px-3 py-1 rounded-md text-sm font-medium">무료배송</span>
            <span class="text-gray-600 text-sm">7일 내 무료 반품</span>
          </div>
        </div>
        <div class="relative h-[300px] md:h-[400px]">
          <img
            src="https://images.unsplash.com/photo-1575111507952-2d4f371374f5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYXNoaW9uJTIwaGVybyUyMGxpZmVzdHlsZXxlbnwxfHx8fDE3NjI2ODI1MjZ8MA&ixlib=rb-4.1.0&q=80&w=1080"
            alt="Hero image"
            class="w-full h-full object-cover"
            onerror="this.src='https://images.unsplash.com/photo-1441986300917-64674bd600d8?q=80&w=1200'"
          />
        </div>
      </div>
    </section>

    <!-- Categories Section -->
    <section id="categories" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <!-- Category 1 -->
        <a href="#women" class="group">
          <div class="relative overflow-hidden rounded-xl bg-gray-200 h-[200px] sm:h-[280px] mb-3">
            <img
              src="https://images.unsplash.com/photo-1735553817396-510cfe7066e6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3b21lbiUyMGZhc2hpb24lMjBjbG90aGluZ3xlbnwxfHx8fDE3NjI1ODI1MTJ8MA&ixlib=rb-4.1.0&q=80&w=1080"
              alt="여성의류"
              class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
              onerror="this.src='https://images.unsplash.com/photo-1483985988355-763728e1935b?q=80&w=800'"
            />
          </div>
          <div>
            <div class="font-semibold mb-1">여성의류</div>
            <div class="text-gray-600 text-sm">신상품 · 베스트</div>
          </div>
        </a>

        <!-- Category 2 -->
        <a href="#men" class="group">
          <div class="relative overflow-hidden rounded-xl bg-gray-200 h-[200px] sm:h-[280px] mb-3">
            <img
              src="https://images.unsplash.com/photo-1595183948036-e0de97d1c94f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZW4lMjBmYXNoaW9uJTIwY2xvdGhpbmd8ZW58MXx8fHwxNzYyNjgyNTI3fDA&ixlib=rb-4.1.0&q=80&w=1080"
              alt="남성의류"
              class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
              onerror="this.src='https://images.unsplash.com/photo-1490114538077-0a7f8cb49891?q=80&w=800'"
            />
          </div>
          <div>
            <div class="font-semibold mb-1">남성의류</div>
            <div class="text-gray-600 text-sm">스테디셀러</div>
          </div>
        </a>

        <!-- Category 3 -->
        <a href="#shoes" class="group">
          <div class="relative overflow-hidden rounded-xl bg-gray-200 h-[200px] sm:h-[280px] mb-3">
            <img
              src="https://images.unsplash.com/photo-1656944227480-98180d2a5155?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzbmVha2VycyUyMHNob2VzfGVufDF8fHx8MTc2MjYzMjY4NXww&ixlib=rb-4.1.0&q=80&w=1080"
              alt="신발"
              class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
              onerror="this.src='https://images.unsplash.com/photo-1460353581641-37baddab0fa2?q=80&w=800'"
            />
          </div>
          <div>
            <div class="font-semibold mb-1">신발</div>
            <div class="text-gray-600 text-sm">편안한 착화감</div>
          </div>
        </a>

        <!-- Category 4 -->
        <a href="#accessories" class="group">
          <div class="relative overflow-hidden rounded-xl bg-gray-200 h-[200px] sm:h-[280px] mb-3">
            <img
              src="https://images.unsplash.com/photo-1569388330338-53ecda03dfa1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYXNoaW9uJTIwYWNjZXNzb3JpZXMlMjBqZXdlbHJ5fGVufDF8fHx8MTc2MjY3MzQyMHww&ixlib=rb-4.1.0&q=80&w=1080"
              alt="액세서리"
              class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
              onerror="this.src='https://images.unsplash.com/photo-1492707892479-7bc8d5a4ee93?q=80&w=800'"
            />
          </div>
          <div>
            <div class="font-semibold mb-1">액세서리</div>
            <div class="text-gray-600 text-sm">포인트 아이템</div>
          </div>
        </a>
      </div>
    </section>

    <!-- Featured Products -->
    <section id="products" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12">
      <h2 class="text-2xl font-semibold mb-8">Featured Products</h2>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
        {% for p in product %}
    <a href="/product/{{ p.product_id }}" class="group product-card">
      <div class="relative overflow-hidden rounded-xl bg-gray-200 mb-4 aspect-square">
        <img
          src="{{ p.image_url }}"
          alt="{{ p.product_name }}"
          class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
          onerror="this.src='/static/images/products/default.png'"
        />
      </div>
      <h3 class="font-medium mb-2 text-base">{{ p.product_name }}</h3>
      <div class="flex items-center justify-between">
        <span class="text-gray-900 font-medium">₩{{ "{:,}".format(p.price|int) }}</span>
      </div>
    </a>
    {% endfor %}
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="border-t border-gray-200 mt-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div class="flex flex-col sm:flex-row items-center justify-between gap-4 text-gray-600 text-sm">
        <div>© 2025 Gretel. All rights reserved.</div>
        <div class="flex gap-4">
          <a href="#support" class="hover:text-gray-900 transition-colors">
            고객센터
          </a>
          <span>·</span>
          <a href="#terms" class="hover:text-gray-900 transition-colors">
            이용약관
          </a>
          <span>·</span>
          <a href="#privacy" class="hover:text-gray-900 transition-colors">
            개인정보처리방침
          </a>
          <span>·</span>
          <a href="/seller/sellers" class="hover:text-gray-900 transition-colors">
            판매자
          </a>
        </div>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script >
    // Main JavaScript file

// Newsletter subscription handler
function handleNewsletterSubmit() {
  const emailInput = document.getElementById('newsletter-email');
  const email = emailInput.value.trim();
  
  // Simple email validation
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  
  if (!email) {
    alert('이메일을 입력해주세요.');
    return;
  }
  
  if (!emailRegex.test(email)) {
    alert('올바른 이메일 주소를 입력해주세요.');
    return;
  }
  
  // Success message
  alert('구독해주셔서 감사합니다! 최신 소식을 이메일로 보내드리겠습니다.');
  
  // Clear input
  emailInput.value = '';
}

// Add Enter key support for newsletter
document.addEventListener('DOMContentLoaded', function() {
  const emailInput = document.getElementById('newsletter-email');
  
  if (emailInput) {
    emailInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        handleNewsletterSubmit();
      }
    });
  }
  
  // Add fade-in animation to sections on scroll
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -100px 0px'
  };
  
  const observer = new IntersectionObserver(function(entries) {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('animate-fade-in');
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);
  
  // Observe all sections
  const sections = document.querySelectorAll('section');
  sections.forEach(section => {
    observer.observe(section);
  });
  
  // Smooth scroll for anchor links
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      const href = this.getAttribute('href');
      
      // Don't prevent default for non-section links
      if (href === '#cart' || href === '#mypage' || href === '#login' || 
          href === '#support' || href === '#terms' || href === '#privacy') {
        e.preventDefault();
        alert('이 페이지는 데모입니다.');
        return;
      }
      
      // Handle section navigation
      const targetId = href.substring(1);
      const targetElement = document.getElementById(targetId);
      
      if (targetElement) {
        e.preventDefault();
        targetElement.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    });
  });
  
  // Add click handlers for product cards
  const productCards = document.querySelectorAll('.product-card');
  productCards.forEach((card, index) => {
    card.addEventListener('click', function(e) {
      const href = this.getAttribute('href');
      if (href && href.startsWith('#product')) {
        e.preventDefault();
        alert('상품 상세 페이지는 데모에서 제공되지 않습니다.');
      }
    });
  });
  
  // Add click handlers for category cards
  const categoryLinks = document.querySelectorAll('a[href^="#women"], a[href^="#men"], a[href^="#shoes"], a[href^="#accessories"]');
  categoryLinks.forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      alert('카테고리 페이지는 데모에서 제공되지 않습니다.');
    });
  });
  
  // Search functionality
  const searchInputs = document.querySelectorAll('input[type="search"]');
  searchInputs.forEach(input => {
    input.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        const searchQuery = this.value.trim();
        if (searchQuery) {
          alert(`"${searchQuery}" 검색 결과는 데모에서 제공되지 않습니다.`);
          this.value = '';
        }
      }
    });
  });
  
  // Add loading indicator for images
  const images = document.querySelectorAll('img');
  images.forEach(img => {
    img.addEventListener('load', function() {
      this.style.opacity = '1';
    });
    
    img.addEventListener('error', function() {
      console.warn('Image failed to load:', this.src);
    });
  });
  
  // Sticky header on scroll
  let lastScroll = 0;
  const header = document.querySelector('header');
  
  window.addEventListener('scroll', () => {
    const currentScroll = window.pageYOffset;
    
    if (currentScroll <= 0) {
      header.classList.remove('shadow-md');
    } else {
      header.classList.add('shadow-md');
    }
    
    lastScroll = currentScroll;
  });
});

// Log when page is fully loaded
window.addEventListener('load', function() {
  console.log('Gretel 쇼핑몰이 로드되었습니다.');
});

  </script>
</body>
</html>
